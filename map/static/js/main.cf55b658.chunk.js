(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{110:function(e,t){},145:function(e,t,a){e.exports=a(157)},150:function(e,t,a){},153:function(e,t){},157:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a.n(n),o=a(89),i=a.n(o),c=(a(150),a(107)),s=a(2),l=a(1),h=a(5),u=a(90),d=a(7),p=a(127),m=a(169),v=a(130),g=a(172),y=a(167),k=a(131);var b=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"shouldUpdateState",value:function(e){return e.changeFlags.somethingChanged}},{key:"updateState",value:function(e){var t=e.props,a=e.oldProps,n=e.changeFlags.dataChanged||t.sizeScale!==a.sizeScale;if(n){var r=new k.a({maxZoom:16,radius:t.sizeScale});r.load(t.data.map((function(e){return{geometry:{coordinates:t.getPosition(e)},properties:e}}))),this.setState({index:r})}var o=Math.floor(this.context.viewport.zoom);(n||o!==this.state.z)&&this.setState({data:this.state.index.getClusters([-180,-85,180,85],o),z:o})}},{key:"getPickingInfo",value:function(e){var t=e.info,a=e.mode,n=t.object&&t.object.properties;return n&&(n.cluster&&"hover"!==a&&(t.objects=this.state.index.getLeaves(n.cluster_id,25).map((function(e){return e.properties}))),t.object=n),t}},{key:"renderLayers",value:function(){var e=this.state.data,t=this.props,a=t.iconAtlas,n=t.iconMapping,r=t.sizeScale;return new g.a(this.getSubLayerProps({id:"icon",data:e,iconAtlas:a,iconMapping:n,sizeScale:r,getPosition:function(e){return e.geometry.coordinates},getIcon:function(e){return 0===(t=e.properties.cluster?e.properties.point_count:1)?"":t<10?"marker-".concat(t):t<100?"marker-".concat(Math.floor(t/10),"0"):"marker-100";var t},getSize:function(e){return t=e.properties.cluster?e.properties.point_count:1,Math.min(100,t)/100+1;var t}}))}}]),a}(y.a),x=new v.a({repeat:!0}),w={longitude:-35,latitude:36.7,zoom:1.8,maxZoom:20,pitch:0,bearing:0},f=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={x:0,y:0,hoveredObject:null,expandedObjects:null},n._onHover=n._onHover.bind(Object(h.a)(n)),n._onClick=n._onClick.bind(Object(h.a)(n)),n._closePopup=n._closePopup.bind(Object(h.a)(n)),n._renderhoveredItems=n._renderhoveredItems.bind(Object(h.a)(n)),n}return Object(l.a)(a,[{key:"_onHover",value:function(e){if(!this.state.expandedObjects){var t=e.x,a=e.y,n=e.object;this.setState({x:t,y:a,hoveredObject:n})}}},{key:"_onClick",value:function(e){var t=this.props.showCluster,a=void 0===t||t,n=e.x,r=e.y,o=e.objects,i=e.object;i&&a?this.setState({x:n,y:r,expandedObjects:o||[i]}):this._closePopup()}},{key:"_closePopup",value:function(){this.state.expandedObjects&&this.setState({expandedObjects:null,hoveredObject:null})}},{key:"_renderhoveredItems",value:function(){var e=this.state,t=e.x,a=e.y,n=e.hoveredObject,o=e.expandedObjects;return o?r.a.createElement("div",{className:"tooltip interactive",style:{left:t,top:a}},o.map((function(e){var t=e.name,a=e.year,n=e.mass,o=e.class;return r.a.createElement("div",{key:t},r.a.createElement("h5",null,t),r.a.createElement("div",null,"Year: ",a||"unknown"),r.a.createElement("div",null,"Class: ",o),r.a.createElement("div",null,"Mass: ",n,"g"))}))):n?n.cluster?r.a.createElement("div",{className:"tooltip",style:{left:t,top:a}},n.point_count," records"):r.a.createElement("div",{className:"tooltip",style:{left:t,top:a}},n.name," ",n.year?"(".concat(n.year,")"):""):null}},{key:"_renderLayers",value:function(){var e=this.props,t=e.data,a=void 0===t?"https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/icon/meteorites.json":t,n=e.iconMapping,r=void 0===n?{"marker-1":{x:0,y:0,width:128,height:128,anchorY:128},"marker-2":{x:128,y:0,width:128,height:128,anchorY:128},"marker-3":{x:256,y:0,width:128,height:128,anchorY:128},"marker-4":{x:384,y:0,width:128,height:128,anchorY:128},"marker-5":{x:0,y:128,width:128,height:128,anchorY:128},"marker-6":{x:128,y:128,width:128,height:128,anchorY:128},"marker-7":{x:256,y:128,width:128,height:128,anchorY:128},"marker-8":{x:384,y:128,width:128,height:128,anchorY:128},"marker-9":{x:0,y:256,width:128,height:128,anchorY:128},"marker-10":{x:128,y:256,width:128,height:128,anchorY:128},"marker-20":{x:256,y:256,width:128,height:128,anchorY:128},"marker-30":{x:384,y:256,width:128,height:128,anchorY:128},"marker-40":{x:0,y:384,width:128,height:128,anchorY:128},"marker-50":{x:128,y:384,width:128,height:128,anchorY:128},"marker-60":{x:256,y:384,width:128,height:128,anchorY:128},"marker-70":{x:384,y:384,width:128,height:128,anchorY:128},"marker-80":{x:0,y:512,width:128,height:128,anchorY:128},"marker-90":{x:128,y:512,width:128,height:128,anchorY:128},"marker-100":{x:256,y:512,width:128,height:128,anchorY:128},marker:{x:384,y:512,width:128,height:128,anchorY:128}}:n,o=e.iconAtlas,i=void 0===o?"https://raw.githubusercontent.com/visgl/deck.gl-data/master/examples/icon/location-icon-atlas.png":o,s=e.showCluster,l=void 0===s||s,h={data:a,pickable:!0,getPosition:function(e){return e.coordinates},iconAtlas:i,iconMapping:r,onHover:this._onHover};return[l?new b(Object(c.a)({},h,{id:"icon-cluster",sizeScale:60})):new g.a(Object(c.a)({},h,{id:"icon",getIcon:function(e){return"marker"},sizeUnits:"meters",sizeScale:2e3,sizeMinPixels:6}))]}},{key:"showMap",value:function(){document.getElementById("deckgl-wrapper").style.visibility="visible"}},{key:"render",value:function(){var e=this.props.mapStyle,t=void 0===e?"mapbox://styles/mapbox/dark-v9":e;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"control-panel"},r.a.createElement("label",null,"Technical Function"),r.a.createElement("select",null,r.a.createElement("option",{value:"select"},"--- SELECT ---"),r.a.createElement("option",{value:"1"},"Development")),r.a.createElement("label",null,"Function"),r.a.createElement("select",null,r.a.createElement("option",{value:"select"},"--- SELECT ---"),r.a.createElement("option",{value:"1"},"Concept Engineering")),r.a.createElement("label",null,"Forums"),r.a.createElement("select",{id:"forum-list",onChange:this.showMap},r.a.createElement("option",{value:"select"},"--- SELECT ---"),r.a.createElement("option",{value:"1"},"Forum 1"),r.a.createElement("option",{value:"2"},"Forum 2"))),r.a.createElement(m.a,{layers:this._renderLayers(),views:x,initialViewState:w,controller:{dragRotate:!1},onViewStateChange:this._closePopup,onClick:this._onClick},r.a.createElement(p.a,{reuseMaps:!0,mapStyle:t,preventStyleDiffing:!0,mapboxApiAccessToken:"pk.eyJ1IjoiYXRoaXNoYXlkIiwiYSI6ImNrYzl6MnhzZjFxNnoydXJpcHA4N3QxaHoifQ.PdaHvhGZEeZyRzNNswxQHg"}),this._renderhoveredItems))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[145,1,2]]]);
//# sourceMappingURL=main.cf55b658.chunk.js.map